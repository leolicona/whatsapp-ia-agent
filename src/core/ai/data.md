

History form database 
[
    {
        "role": "user",
        "parts": [
            {
                "text": "Hola"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "¡Hola! ¿Cómo puedo ayudarte hoy?\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Hola"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "¡Hola! ¿En qué puedo ayudarte hoy?\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Hol"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Hola! How can I help you today?\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Como me llamo"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "No tengo acceso a esa información. No sé cómo te llamas.\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Soy Leo"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Mucho gusto, Leo. ¿En qué puedo ayudarte hoy?\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Como me llamo"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Te llamas Leo.\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Eres listo"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Gracias Leo, trato de ser lo más útil posible. ¿Hay algo en lo que te pueda ayudar ahora?\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "set the lights to 50% brightness with a warm color temperature, set the thermostat to heat at 20°C, and start playing music at 70% volume."
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "¡Hecho! Las luces están al 50% de brillo con una temperatura de color cálida, el termostato está configurado para calentar a 20°C y la música está sonando al 70% del volumen. ¿Hay algo más en lo que pueda ayudarte?\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "set the lights to 50% brightness with a warm color temperature, set the thermostat to heat at 20°C, and start playing music at 70% volume."
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Perfect! I've set the lights to 50% brightness with a warm color temperature, set the thermostat to heat at 20°C, and started playing music at 70% volume. Let me know if there's anything else I can do for you.\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Hola"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Hola! En qué puedo ayudarte?\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Hola"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Hello! How can I assist you today?\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Hola"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Hello! How may I assist you today?\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "How can you helpe me?"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "I am here to provide information about Serenity Health Clinic. To best assist you, please ask me a question about the clinic, its services, location, hours, doctors, appointments or billing policies.\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Tell me about your services?"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Functions executed successfully"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Hello"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Hi there! How can I help you today?\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Tell me about your services?"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Functions executed successfully"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Hola"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Hola! ¿Cómo puedo ayudarte hoy?\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Tell me about your services?"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Functions executed successfully"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Tell me about your services?"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Serenity Health Clinic offers a wide range of services, including family medicine, obstetrics and gynecology, pediatrics, and geriatrics. We also offer specialized services such as cardiology, dermatology, and oncology.\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "I want to schedule"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Functions executed successfully"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "I want to schedule"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Okay! To schedule an appointment, could you please tell me what kind of appointment you're looking for and any other relevant details?\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Tell me about your services?"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Functions executed successfully"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Tell me about your services?"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Serenity Health Clinic offers a comprehensive range of medical services, including family medicine, obstetrics and gynecology, pediatrics, and geriatrics. We also provide specialized care in cardiology, dermatology, and oncology.\n"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Tell me about your services?"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Functions executed successfully"
            }
        ]
    },
    {
        "role": "user",
        "parts": [
            {
                "text": "Tell me about your services?"
            }
        ]
    },
    {
        "role": "model",
        "parts": [
            {
                "text": "Serenity Health Clinic offers comprehensive medical services, including family medicine, obstetrics and gynecology, pediatrics, and geriatrics. We also provide specialized services such as cardiology, dermatology, and oncology.\n"
            }
        ]
    }
]


History after:   const currentTurnContext = this.functionCallingService.createContext();
            currentTurnContext.conversationHistory = context.messageHistory;

{
    "conversationHistory": [
        {
            "role": "user",
            "parts": [
                {
                    "text": "Hola"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "¡Hola! ¿Cómo puedo ayudarte hoy?\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Hola"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "¡Hola! ¿En qué puedo ayudarte hoy?\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Hol"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Hola! How can I help you today?\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Como me llamo"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "No tengo acceso a esa información. No sé cómo te llamas.\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Soy Leo"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Mucho gusto, Leo. ¿En qué puedo ayudarte hoy?\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Como me llamo"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Te llamas Leo.\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Eres listo"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Gracias Leo, trato de ser lo más útil posible. ¿Hay algo en lo que te pueda ayudar ahora?\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "set the lights to 50% brightness with a warm color temperature, set the thermostat to heat at 20°C, and start playing music at 70% volume."
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "¡Hecho! Las luces están al 50% de brillo con una temperatura de color cálida, el termostato está configurado para calentar a 20°C y la música está sonando al 70% del volumen. ¿Hay algo más en lo que pueda ayudarte?\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "set the lights to 50% brightness with a warm color temperature, set the thermostat to heat at 20°C, and start playing music at 70% volume."
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Perfect! I've set the lights to 50% brightness with a warm color temperature, set the thermostat to heat at 20°C, and started playing music at 70% volume. Let me know if there's anything else I can do for you.\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Hola"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Hola! En qué puedo ayudarte?\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Hola"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Hello! How can I assist you today?\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Hola"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Hello! How may I assist you today?\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "How can you helpe me?"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "I am here to provide information about Serenity Health Clinic. To best assist you, please ask me a question about the clinic, its services, location, hours, doctors, appointments or billing policies.\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Tell me about your services?"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Functions executed successfully"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Hello"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Hi there! How can I help you today?\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Tell me about your services?"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Functions executed successfully"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Hola"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Hola! ¿Cómo puedo ayudarte hoy?\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Tell me about your services?"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Functions executed successfully"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Tell me about your services?"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Serenity Health Clinic offers a wide range of services, including family medicine, obstetrics and gynecology, pediatrics, and geriatrics. We also offer specialized services such as cardiology, dermatology, and oncology.\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "I want to schedule"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Functions executed successfully"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "I want to schedule"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Okay! To schedule an appointment, could you please tell me what kind of appointment you're looking for and any other relevant details?\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Tell me about your services?"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Functions executed successfully"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Tell me about your services?"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Serenity Health Clinic offers a comprehensive range of medical services, including family medicine, obstetrics and gynecology, pediatrics, and geriatrics. We also provide specialized care in cardiology, dermatology, and oncology.\n"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Tell me about your services?"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Functions executed successfully"
                }
            ]
        },
        {
            "role": "user",
            "parts": [
                {
                    "text": "Tell me about your services?"
                }
            ]
        },
        {
            "role": "model",
            "parts": [
                {
                    "text": "Serenity Health Clinic offers comprehensive medical services, including family medicine, obstetrics and gynecology, pediatrics, and geriatrics. We also provide specialized services such as cardiology, dermatology, and oncology.\n"
                }
            ]
        }
    ]
}